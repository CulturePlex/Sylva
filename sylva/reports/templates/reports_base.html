{% extends "base.html" %}
{% load i18n graphs static %}
{# get_static_prefix as STATIC_PREFIX #}


{% block navigation_buttons %}
  {% if pdf == False %}
    {{ block.super }}
  {% endif %}
{% endblock %}

{% block title %}
  {{ graph_slug }}
{% endblock %}

{% block extra_links %}
  <link href="{{ STATIC_PREFIX }}css/jqueryui.1.8.18.css" type="text/css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="{{ STATIC_PREFIX }}app/css/reports.css" />
{% endblock %}


{% block main_navigation %}
    {% if pdf == True %}
      <a href="{% url "dashboard" %}" id="link-logo" title="{% trans "Go to the Dashboard" %}">dashboard</a>
    {% else %}
      {{ block.super }}
    {% endif %}
{% endblock %}


{% block menu_buttons %}
  {% if pdf == False %}
    {% toolbar on="reports" %}
  {% endif %}
{% endblock %}


{% block content_title %}
  {% if pdf == False %}
    <div>
      <header class="reports-header">
        <!-- angular app here for breadcrumbs http://stackoverflow.com/questions/18571301/angularjs-multiple-ng-app-within-a-page -->
        <h2 >{{ graph }} &raquo; Reports</h2>
      </header>
    </div>
  {% endif %}
{% endblock %}

{% block content %}

  <div ng-app="reports">
    <div ng-view></div>
  </div>

  {% block scripts %}
    <script src="{{ STATIC_PREFIX }}js/jquery.1.8.3.js"></script>
  {% endblock %}
  
  {% block extra_scripts %}
    <script type="text/javascript" src="{{ STATIC_PREFIX }}js/jquery-ui-1.9.1.js"></script>
    <script src="{{ STATIC_PREFIX }}app/js/third_party/angular.min.js"></script>
    <script src="{{ STATIC_PREFIX }}app/js/third_party/angular-cookies.min.js"></script>
    <script src="{{ STATIC_PREFIX }}app/js/third_party/angular-resource.min.js"></script>
    <script src="{{ STATIC_PREFIX }}app/js/third_party/angular-route.min.js"></script>
    <script src="{{ STATIC_PREFIX }}app/js/third_party/angular-sanitize.min.js"></script>
    <script type="text/javascript" src="{{ STATIC_PREFIX }}graphs/js/highcharts/highcharts.js"></script>
    <script type="text/javascript" src="{{ STATIC_PREFIX }}app/js/app.js" ></script>
    <script type="text/javascript" src="{{ STATIC_PREFIX }}app/js/controllers.js" ></script>
    <script type="text/javascript" src="{{ STATIC_PREFIX }}app/js/services.js" ></script>
    <script type="text/javascript" src="{{ STATIC_PREFIX }}app/js/directives.js" ></script>
    <script type="text/javascript" src="{{ STATIC_PREFIX }}app/js/third_party/highcharts-ng.js" ></script>
    <script type="text/javascript">
      angular.module('reports').constant("STATIC_PREFIX", "{{ STATIC_PREFIX }}");
    </script>

  {% endblock %}
{% endblock %}



{% block footer %}
  {% if pdf == True %}
    <p>&copy; {{ CURRENT_DATE|date:"Y" }} <a href="{{ site.domain }}">{{ PROJECT_NAME }}</a>. {% trans "All rights reserved" %}.</p>
  {% else %}
    {{ block.super }}
  {% endif %}
{% endblock %}




